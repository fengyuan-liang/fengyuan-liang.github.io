# 记一次成功的挂载Linux磁盘，附录 Linux磁盘操作采用命令

>之前捣鼓了一台Linux服务器，装了1T的机械，然后一直看各种博客想要挂载磁盘，总是挂载不好，反思自己还是太浮躁，理论知识不踏实，只会依葫芦画瓢，这段时间痛定思痛，恶补了一下Linux磁盘相关的知识，终于挂载成功

总体的步骤是：

```sh
先磁盘分区：
fdisk -l查看未挂载磁盘路径 ->  fdisk 磁盘路径进行分区  ->n增加分区  ->选择分区的索引数字（回车默认）
->选择分区的起始位置（回车即可） ->选择磁盘的结束位置，可以用+500G来指定此分区的大小（回车默认会将磁盘剩下的空间全部划入）
->w写入分区规则并退出
建立文件系统（格式化分区）:
mkfs -t ext3 -c 你分区好的分区名(例如/dev/sdb1)
创建挂载点（你的磁盘要加在那个地方）：
mkdir /mnt/static-fengxian
设置挂载规则（这里采用自动挂载的方式）：
vim /dev/fstab 编辑系统启动时的挂载规则(这样挂载的好处是每次系统启动都会按照设置好的规则挂载)
在后面加上：/dev/sdb1（分区地址）  /mnt/static-fengxian（你想要挂载的地方）   ext3   defaults   0 2
挂载：
mount -a(按照上一步设置好的挂载规则进行挂载)
```

解释一下命令的参数：

`fdisk -l`:列出指定设备的参数和分区表

`fdisk 磁盘路径`：进入交互式界面，修改磁盘的分区（进入交互式界面后一定要按m看选项菜单！！！！）

`mkfs -t 文件类型 磁盘路径` :将指定文件格式化为指定类型（Centos7一般是ext3，不指定默认为ext4）

`mkfs -c`:格式化前查找磁盘有无坏块

`vim /dev/fstab`:编辑每次系统启动时挂载规则

`fstab`中挂载规则共有6个字段：文件系统表示  挂载点  文件系统类型  挂载选项  dump标志  fsck顺序

```css
文件系统表示:就是你磁盘分区指定的磁盘路径（也可以填UUID标识等）
挂载点：你分区好的磁盘要挂载到那个目录下（需要创建目录）
文件系统类型：centos7一般用ext3
挂载选项：ro(只读挂载)、rw（读写挂载）、auto/noauto（隐式/不隐含挂载）、user/nouser（一般用户可/不可挂载）、default（默认挂载）
dump标志：1标识挂载前需要备份该文件系统，0不需要
fsck顺序：标识文件系统进行检查的顺序，顺序为 1 ->  2 , 0标识不检查（即如果磁盘损坏也可以正常启动）
```

`mount -a`:标识按照`fstab`中的挂载规则进行自动挂载

## 附录 Linux磁盘操作采用命令：

思维导图：

![image-20220302111317327](https://cdn.fengxianhub.top/resources-master/202203021113495.png)